{"remainingRequest":"C:\\Users\\jimmy\\OneDrive\\Desktop\\RMS\\RMS\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jimmy\\OneDrive\\Desktop\\RMS\\RMS\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\jimmy\\OneDrive\\Desktop\\RMS\\RMS\\src\\util\\apiRequest\\Food\\getFilesDetails.js","dependencies":[{"path":"C:\\Users\\jimmy\\OneDrive\\Desktop\\RMS\\RMS\\src\\util\\apiRequest\\Food\\getFilesDetails.js","mtime":1647633820756},{"path":"C:\\Users\\jimmy\\OneDrive\\Desktop\\RMS\\RMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647720748687},{"path":"C:\\Users\\jimmy\\OneDrive\\Desktop\\RMS\\RMS\\node_modules\\babel-loader\\lib\\index.js","mtime":1647720754684},{"path":"C:\\Users\\jimmy\\OneDrive\\Desktop\\RMS\\RMS\\node_modules\\eslint-loader\\index.js","mtime":1647720749881}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2ppbW15L09uZURyaXZlL0Rlc2t0b3AvUk1TL1JNUy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCBheGlvc0luc3RhbmNlIGZyb20gIi4uL2F4aW9zSW5zdGFuY2UiOwppbXBvcnQgeyBmaXJlYmFzZUFwcCB9IGZyb20gIi4uLy4uLy4uL2ZpcmViYXNlL2ZpcmViYXNlSW5pdCI7Cgp2YXIgZ2V0RmlsZXNEZXRhaWxzID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoZmlsZW5hbWVzKSB7CiAgICB2YXIgdG9rZW47CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgIHJldHVybiBmaXJlYmFzZUFwcC5hdXRoKCkuY3VycmVudFVzZXIuZ2V0SWRUb2tlbigpOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgdG9rZW4gPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZmlsZW5hbWVzID09PSBudWxsIHx8IGZpbGVuYW1lcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogZmlsZW5hbWVzLnNwbGl0KCc7JykubWFwKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShmaWxlbmFtZSkgewogICAgICAgICAgICAgICAgdmFyIGZpbGVVcmwsIHJlc3BvbnNlLCBzaXplLCB0eXBlOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICBmaWxlVXJsID0gInN0YXRpYy8iLmNvbmNhdChmaWxlbmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gYXhpb3NJbnN0YW5jZS5nZXQoZmlsZVVybCwgewogICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQodG9rZW4pCiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiAiYmxvYiIKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7CgogICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICBzaXplID0gX2NvbnRleHQuc2VudC5kYXRhLmxlbmd0aDsKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTsKCiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSBfY29udGV4dC5zZW50LmRhdGEudHlwZTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgewogICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVEZXRhaWxzOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBzaXplLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZpbGVuYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlVXJsOiAiaHR0cDovL2xvY2FsaG9zdDozMDAwLyIuY29uY2F0KGZpbGVVcmwpCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gyKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9KCkpKTsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBfY29udGV4dDIuc2VudCk7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlMik7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gZ2V0RmlsZXNEZXRhaWxzKF94KSB7CiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKTsKCmV4cG9ydCBkZWZhdWx0IGdldEZpbGVzRGV0YWlsczs="},{"version":3,"sources":["C:/Users/jimmy/OneDrive/Desktop/RMS/RMS/src/util/apiRequest/Food/getFilesDetails.js"],"names":["axiosInstance","firebaseApp","getFilesDetails","filenames","auth","currentUser","getIdToken","token","Promise","all","split","map","filename","fileUrl","response","get","headers","authorization","responseType","size","data","length","type","fileDetails","name"],"mappings":";;;;;;;;AAAA,OAAOA,aAAP,MAA0B,kBAA1B;AACA,SAASC,WAAT,QAA4B,gCAA5B;;AAEA,IAAMC,eAAe;AAAA,qEAAG,kBAAOC,SAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACAF,WAAW,CAACG,IAAZ,GAAmBC,WAAnB,CAA+BC,UAA/B,EADA;;AAAA;AACdC,YAAAA,KADc;AAAA;AAAA,mBAGPC,OAAO,CAACC,GAAR,CACTN,SADS,aACTA,SADS,uBACTA,SAAS,CAAEO,KAAX,CAAiB,GAAjB,EAAsBC,GAAtB;AAAA,kFAA0B,iBAAOC,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAChBC,wBAAAA,OADgB,oBACID,QADJ;AAEhBE,wBAAAA,QAFgB,GAELd,aAAa,CAACe,GAAd,CACbF,OADa,EAEb;AAAEG,0BAAAA,OAAO,EAAE;AAAEC,4BAAAA,aAAa,mBAAYV,KAAZ;AAAf;AAAX,yBAFa,EAGb;AAAEW,0BAAAA,YAAY,EAAE;AAAhB,yBAHa,CAFK;AAAA;AAAA,+BAQFJ,QARE;;AAAA;AAQhBK,wBAAAA,IARgB,iBAQQC,IARR,CAQaC,MARb;AAAA;AAAA,+BASFP,QATE;;AAAA;AAShBQ,wBAAAA,IATgB,iBASQF,IATR,CASaE,IATb;AAAA,yDAWf;AACHC,0BAAAA,WAAW,EAAE;AAAEJ,4BAAAA,IAAI,EAAJA,IAAF;AAAQG,4BAAAA,IAAI,EAAJA,IAAR;AAAcE,4BAAAA,IAAI,EAAEZ;AAApB,2BADV;AAEHC,0BAAAA,OAAO,kCAA2BA,OAA3B;AAFJ,yBAXe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAA1B;;AAAA;AAAA;AAAA;AAAA,gBADS,CAHO;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAfX,eAAe;AAAA;AAAA;AAAA,GAArB;;AAsBA,eAAeA,eAAf","sourcesContent":["import axiosInstance from \"../axiosInstance\";\r\nimport { firebaseApp } from \"../../../firebase/firebaseInit\";\r\n\r\nconst getFilesDetails = async (filenames) => {\r\n    const token = await firebaseApp.auth().currentUser.getIdToken();\r\n\r\n    return await Promise.all(\r\n        filenames?.split(';').map(async (filename) => {\r\n            const fileUrl = `static/${filename}`;\r\n            const response = axiosInstance.get(\r\n                fileUrl,\r\n                { headers: { authorization: `Bearer ${token}` } },\r\n                { responseType: \"blob\" }\r\n            );\r\n        \r\n            const size = (await response).data.length\r\n            const type = (await response).data.type;\r\n           \r\n            return {\r\n                fileDetails: { size, type, name: filename },\r\n                fileUrl: `http://localhost:3000/${fileUrl}`\r\n            }\r\n        })\r\n    )\r\n}\r\nexport default getFilesDetails;"]}]}