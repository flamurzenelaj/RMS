{"remainingRequest":"D:\\jimmy\\UBT\\Semestri.5\\Zhvillimi dhe Dizajnimi i WEB-it - Betim Gashi\\PROJEKTI\\RMS VueJS\\RMS Vue JS\\RMS\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\jimmy\\UBT\\Semestri.5\\Zhvillimi dhe Dizajnimi i WEB-it - Betim Gashi\\PROJEKTI\\RMS VueJS\\RMS Vue JS\\RMS\\src\\views\\Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\jimmy\\UBT\\Semestri.5\\Zhvillimi dhe Dizajnimi i WEB-it - Betim Gashi\\PROJEKTI\\RMS VueJS\\RMS Vue JS\\RMS\\src\\views\\Register.vue","mtime":1647724259947},{"path":"D:\\jimmy\\UBT\\Semestri.5\\Zhvillimi dhe Dizajnimi i WEB-it - Betim Gashi\\PROJEKTI\\RMS VueJS\\RMS Vue JS\\RMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647724242346},{"path":"D:\\jimmy\\UBT\\Semestri.5\\Zhvillimi dhe Dizajnimi i WEB-it - Betim Gashi\\PROJEKTI\\RMS VueJS\\RMS Vue JS\\RMS\\node_modules\\babel-loader\\lib\\index.js","mtime":1647724241991},{"path":"D:\\jimmy\\UBT\\Semestri.5\\Zhvillimi dhe Dizajnimi i WEB-it - Betim Gashi\\PROJEKTI\\RMS VueJS\\RMS Vue JS\\RMS\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647724242346},{"path":"D:\\jimmy\\UBT\\Semestri.5\\Zhvillimi dhe Dizajnimi i WEB-it - Betim Gashi\\PROJEKTI\\RMS VueJS\\RMS Vue JS\\RMS\\node_modules\\vue-loader\\lib\\index.js","mtime":1647724258599}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgZW1haWwgZnJvbSAiLi4vYXNzZXRzL0ljb25zL2VudmVsb3BlLXJlZ3VsYXIuc3ZnIjsNCmltcG9ydCBwYXNzd29yZCBmcm9tICIuLi9hc3NldHMvSWNvbnMvbG9jay1hbHQtc29saWQuc3ZnIjsNCmltcG9ydCB1c2VyIGZyb20gIi4uL2Fzc2V0cy9JY29ucy91c2VyLWFsdC1saWdodC5zdmciOw0KLy8gaW1wb3J0IGZpcmViYXNlIGZyb20gImZpcmViYXNlL2NvbXBhdC9hcHAiOw0KaW1wb3J0ICJmaXJlYmFzZS9hdXRoIjsNCmltcG9ydCBkYiBmcm9tICIuLi9maXJlYmFzZS9maXJlYmFzZUluaXQiOw0KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiUmVnaXN0ZXIiLA0KICBjb21wb25lbnRzOiB7DQogICAgZW1haWwsDQogICAgcGFzc3dvcmQsDQogICAgdXNlciwNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZmlyc3ROYW1lOiAiIiwNCiAgICAgIGxhc3ROYW1lOiAiIiwNCiAgICAgIHVzZXJuYW1lOiAiIiwNCiAgICAgIGVtYWlsOiAiIiwNCiAgICAgIHBhc3N3b3JkOiAiIiwNCiAgICAgIGVycm9yOiBudWxsLA0KICAgICAgZXJyb3JNc2c6ICIiLA0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBhc3luYyByZWdpc3RlcigpIHsNCiAgICAgIGlmICgNCiAgICAgICAgdGhpcy5lbWFpbCAhPT0gIiIgJiYNCiAgICAgICAgdGhpcy5wYXNzd29yZCAhPT0gIiIgJiYNCiAgICAgICAgdGhpcy5maXJzdE5hbWUgIT09ICIiICYmDQogICAgICAgIHRoaXMubGFzdE5hbWUgIT09ICIiICYmDQogICAgICAgIHRoaXMudXNlcm5hbWUgIT09ICIiDQogICAgICApIHsNCiAgICAgICAgICB0aGlzLmVycm9yID0gZmFsc2U7DQogICAgICAgICAgdGhpcy5lcnJvck1zZyA9ICIiOw0KICAgICAgICAgIGNvbnN0IGNyZWF0ZVVzZXIgPSBhd2FpdCBheGlvcy5wb3N0KA0KICAgICAgICAgICAgImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC91c2Vycy9yZWdpc3RlciIsDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLA0KICAgICAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwNCiAgICAgICAgICAgIH0NCiAgICAgICAgICApOw0KICAgICAgICAgIGNvbnN0IHJlc3VsdCA9ICBjcmVhdGVVc2VyOw0KICAgICAgICAgIHRoaXMuZXJyb3JNc2cgPSByZXN1bHQuZGF0YS5tZXNzYWdlOw0KICAgICAgICAgIGlmKHRoaXMuZXJyb3JNc2chPW51bGwpew0KICAgICAgICAgICAgdGhpcy5lcnJvciA9IHRydWU7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5lcnJvck1zZw0KICAgICAgICAgIH0NCiAgICAgICAgICBjb25zdCBkYXRhQmFzZSA9IGRiLmNvbGxlY3Rpb24oInVzZXJzIikuZG9jKHJlc3VsdC5kYXRhLnVpZCk7DQogICAgICAgICAgYXdhaXQgZGF0YUJhc2Uuc2V0KHsNCiAgICAgICAgICAgIGZpcnN0TmFtZTogdGhpcy5maXJzdE5hbWUsDQogICAgICAgICAgICBsYXN0TmFtZTogdGhpcy5sYXN0TmFtZSwNCiAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLA0KICAgICAgICAgICAgZW1haWw6IHRoaXMuZW1haWwsDQogICAgICAgICAgfSk7DQoNCiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICJIb21lIiB9KTsNCiAgICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICB0aGlzLmVycm9yID0gdHJ1ZTsNCiAgICAgIHRoaXMuZXJyb3JNc2cgPSAiUGxlYXNlIGZpbGwgb3V0IGFsbCB0aGUgZmllbGRzISI7DQogICAgICByZXR1cm47DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"form-wrap\">\r\n    <form class=\"register\">\r\n      <p class=\"login-register\">\r\n        Already have an account?\r\n        <router-link class=\"router-link\" :to=\"{ name: 'Login' }\"\r\n          >Login</router-link\r\n        >\r\n      </p>\r\n      <h2>Create Your Account</h2>\r\n      <div class=\"inputs\">\r\n        <div class=\"input\">\r\n          <input type=\"text\" placeholder=\"First Name\" v-model=\"firstName\" />\r\n          <user class=\"icon\" />\r\n        </div>\r\n        <div class=\"input\">\r\n          <input type=\"text\" placeholder=\"Last Name\" v-model=\"lastName\" />\r\n          <user class=\"icon\" />\r\n        </div>\r\n        <div class=\"input\">\r\n          <input type=\"text\" placeholder=\"Username\" v-model=\"username\" />\r\n          <user class=\"icon\" />\r\n        </div>\r\n        <div class=\"input\">\r\n          <input type=\"text\" placeholder=\"Email\" v-model=\"email\" required />\r\n          <email class=\"icon\" />\r\n        </div>\r\n        <div class=\"input\">\r\n          <input type=\"password\" placeholder=\"Password\" v-model=\"password\" required/>\r\n          <password class=\"icon\" />\r\n        </div>\r\n        <div v-show=\"error\" class=\"error\">{{ this.errorMsg }}</div>\r\n      </div>\r\n      <button @click.prevent=\"register\">Sign Up</button>\r\n      <div class=\"angle\"></div>\r\n    </form>\r\n    <div class=\"background\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport email from \"../assets/Icons/envelope-regular.svg\";\r\nimport password from \"../assets/Icons/lock-alt-solid.svg\";\r\nimport user from \"../assets/Icons/user-alt-light.svg\";\r\n// import firebase from \"firebase/compat/app\";\r\nimport \"firebase/auth\";\r\nimport db from \"../firebase/firebaseInit\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"Register\",\r\n  components: {\r\n    email,\r\n    password,\r\n    user,\r\n  },\r\n  data() {\r\n    return {\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      username: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      error: null,\r\n      errorMsg: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    async register() {\r\n      if (\r\n        this.email !== \"\" &&\r\n        this.password !== \"\" &&\r\n        this.firstName !== \"\" &&\r\n        this.lastName !== \"\" &&\r\n        this.username !== \"\"\r\n      ) {\r\n          this.error = false;\r\n          this.errorMsg = \"\";\r\n          const createUser = await axios.post(\r\n            \"http://localhost:3000/users/register\",\r\n            {\r\n              email: this.email,\r\n              password: this.password,\r\n            }\r\n          );\r\n          const result =  createUser;\r\n          this.errorMsg = result.data.message;\r\n          if(this.errorMsg!=null){\r\n            this.error = true;\r\n            return this.errorMsg\r\n          }\r\n          const dataBase = db.collection(\"users\").doc(result.data.uid);\r\n          await dataBase.set({\r\n            firstName: this.firstName,\r\n            lastName: this.lastName,\r\n            username: this.username,\r\n            email: this.email,\r\n          });\r\n\r\n          this.$router.push({ name: \"Home\" });\r\n          return;\r\n      }\r\n      this.error = true;\r\n      this.errorMsg = \"Please fill out all the fields!\";\r\n      return;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.register {\r\n  h2 {\r\n    max-width: 350px;\r\n  }\r\n}\r\n</style>\r\n"]}]}